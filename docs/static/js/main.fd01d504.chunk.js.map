{"version":3,"sources":["components/Header.js","components/Search.js","components/Weather.js","components/HourlyForecast.js","components/Forecast.js","components/Footer.js","components/App.js","index.js"],"names":["Header","className","this","props","title","Component","Search","handleSearchInputChanges","e","preventDefault","setState","searchValue","target","value","resetInputField","document","querySelector","callSearchFunction","search","state","bind","type","onChange","onClick","Weather","weather","icon","desc","main","calculateDate","time","Date","toLocaleString","hour","minute","name","sys","country","src","alt","Math","round","temp","temp_max","temp_min","description","sunrise","sunset","HourlyForecast","data","displayMoreInfo","index","key","dt","getHours","map","Forecast","forecast","forecastDays","Object","values","reduce","list","item","forecastDay","dt_txt","substr","push","weatherDays","length","slice","i","array","getDay","currentDay","minTemp","maxTemp","forEach","tempMinMax","min","max","minMaxTemp","Footer","href","require","config","App","removeBodyClass","bodyCurrentClass","body","classList","remove","add","changeBG","process","message","requestWeather","axios","get","requestForecast","all","then","spread","response","loading","errorMessage","textContent","catch","error","ReactDOM","render","StrictMode","getElementById"],"mappings":"sRAsBeA,E,uKAlBP,OACI,6BAASC,UAAU,WACf,yBAAKA,UAAU,aACX,6BAASA,UAAU,iBACf,yBAAKA,UAAU,+BACX,yBAAKA,UAAU,aACX,uBAAGA,UAAU,SACRC,KAAKC,MAAMC,gB,GAT3BC,aCyDNC,E,kDAxDX,WAAYH,GAAQ,IAAD,8BACf,cAAMA,IASVI,yBAA2B,SAACC,GACxBA,EAAEC,iBACF,EAAKC,SAAS,CAAEC,YAAaH,EAAEI,OAAOC,SAZvB,EAenBC,gBAAkB,WACd,EAAKJ,SAAS,CAAEC,YAAa,KAC7BI,SAASC,cAAc,UAAUH,MAAQ,IAjB1B,EAoBnBI,mBAAqB,SAACT,GAClBA,EAAEC,iBACF,EAAKN,MAAMe,OAAO,EAAKC,MAAMR,aAC7B,EAAKG,mBArBL,EAAKK,MAAQ,CACTR,YAAa,IAEjB,EAAKJ,yBAA2B,EAAKA,yBAAyBa,KAA9B,gBAChC,EAAKN,gBAAkB,EAAKA,gBAAgBM,KAArB,gBACvB,EAAKH,mBAAqB,EAAKA,mBAAmBG,KAAxB,gBAPX,E,qDA2Bf,OACI,6BAASnB,UAAU,WACf,yBAAKA,UAAU,aACX,yBAAKA,UAAU,uBACX,yBAAKA,UAAU,kBACX,yBAAKA,UAAU,oBACX,yBAAKA,UAAU,uBACX,2BACIA,UAAU,QACVoB,KAAK,OACLR,MAAOX,KAAKiB,MAAMR,YAClBW,SAAUpB,KAAKK,4BAEvB,yBAAKN,UAAU,WACX,2BACIA,UAAU,iBACVsB,QAASrB,KAAKe,mBACdI,KAAK,SACLR,MAAM,qB,GA9CzBR,aCyCNmB,EAzCC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACTC,EAAOD,EAAQA,QAAQ,GAAGC,KAC1BC,EAAOF,EAAQA,QAAQ,GAAGG,KAE1BC,EAAgB,SAAAC,GAElB,OADa,IAAIC,KAAY,IAAPD,GACVE,eAAe,GAAI,CAAEC,KAAM,UAAWC,OAAQ,aAG9D,OACI,6BAAUjC,UAAU,WAChB,yBAAKA,UAAU,aACX,yBAAKA,UAAU,yCACX,yBAAKA,UAAU,kBACX,uBAAGA,UAAU,QAAQwB,EAAQU,KAA7B,KAAoC,2BAAIV,EAAQW,IAAIC,UAEpD,yBAAKpC,UAAU,WACX,yBAAKA,UAAU,UACX,yBACIqC,IAAG,2CAAsCZ,EAAtC,WACHa,IAAKZ,KAGb,yBAAK1B,UAAU,UACX,0BAAMA,UAAU,gBAAgBuC,KAAKC,MAAMhB,EAAQG,KAAKc,MAAxD,SAEJ,yBAAKzC,UAAU,oCACX,2BAAG,2BAAIuC,KAAKC,MAAMhB,EAAQG,KAAKe,UAA5B,SAAH,IAAiDH,KAAKC,MAAMhB,EAAQG,KAAKgB,UAAzE,QACA,2BAAInB,EAAQA,QAAQ,GAAGoB,aACvB,uCAAahB,EAAcJ,EAAQW,IAAIU,UACvC,sCAAYjB,EAAcJ,EAAQW,IAAIW,gB,OCAvDC,EA9BQ,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAIhBC,EAAkB,SAACD,EAAME,GAC3B,OACI,yBAAKC,IAAKD,GACN,yBAAKlD,UAAU,mBACX,yBAAKA,UAAU,wBAAf,WANA6B,EAO0B,IAAVmB,EAAKI,GAAY,KAPlB,IAAItB,KAAKD,GAAMwB,YAAa,IAAIvB,MAAOuB,WAMtD,QAGA,yBAAKrD,UAAU,wBACX,0CAAYuC,KAAKC,MAAMQ,EAAKrB,KAAKe,UAAjC,aADJ,UAEQH,KAAKC,MAAMQ,EAAKrB,KAAKgB,UAF7B,SAIA,0BAAM3C,UAAU,aAbhB,IAAA6B,GAmBhB,OACI,yBAAK7B,UAAU,gBACVgD,EAAKM,KAAI,SAACN,EAAME,GAAP,OACND,EAAgBD,EAAME,QCsCvBK,EA7DE,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAoCVC,EAAeC,OAAOC,OAAkBH,EAlC5BI,QAAO,SAACC,EAAMC,GACxB,IAAMC,EAAcD,EAAKE,OAAOC,OAAO,EAAG,IAG1C,OAFAJ,EAAKE,GAAeF,EAAKE,IAAgB,GACzCF,EAAKE,GAAaG,KAAKJ,GAChBD,IACR,KA8BDM,EAAcV,EAAaW,OAAS,EAAIX,EAAaY,MAAM,EAAG,GAAKZ,EAGzE,OAEI,6BAASzD,UAAU,WACf,yBAAKA,UAAU,aACX,yBAAKA,UAAU,WACVmE,EAAYb,KAAI,SAACQ,EAAMQ,GAAP,OACb,yBAAKnB,IAAKmB,EAAGtE,UAAU,UACnB,yBAAKA,UAAU,cACX,8BArCT,SAAAuE,GAEf,MADY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC5C,IAAIzC,KAAmB,IAAdyC,EAAM,GAAGnB,IAAWoB,UAmCTC,CAAWX,IAClB,8BAjCT,SAACd,GAAsC,IAAhC0B,EAA+B,uDAArB,GAAIC,EAAiB,uDAAP,GAC9C3B,EAAK4B,SAAQ,SAAAhE,GACT+D,EAAQT,KAAKtD,EAAMe,KAAKe,UACxBgC,EAAQR,KAAKtD,EAAMe,KAAKgB,aAG5B,IAAMkC,EAAa,CACfC,IAAKvC,KAAKC,MAAMD,KAAKuC,IAAL,MAAAvC,KAAI,YAAQmC,KAC5BK,IAAKxC,KAAKC,MAAMD,KAAKwC,IAAL,MAAAxC,KAAI,YAAQoC,MAGhC,OACI,6BACI,6BACI,0CAAYE,EAAWE,IAAvB,UADJ,gBACmDF,EAAWC,IAD9D,WAoBuBE,CAAWlB,KAEtB,8BAAM,kBAAC,EAAD,CAAgBd,KAAMc,aCtCzCmB,E,uKAZP,OACI,4BAAQjF,UAAU,UACd,yBAAKA,UAAU,6BACX,uBAAGA,UAAU,cAAb,uCACwC,uBAAGkF,KAAK,gCAAR,2B,GANvC9E,a,sBCMrB+E,EAAQ,IAAUC,S,IA6FHC,E,kDA1Fb,WAAYnF,GAAQ,IAAD,8BACjB,cAAMA,IAaRoF,gBAAkB,WAChB,IAAMC,EAAmBzE,SAAS0E,KAAKxF,UACvCc,SAAS0E,KAAKC,UAAUC,OAAOH,GAC/BzE,SAAS0E,KAAKC,UAAUE,IAAI,oBAjBX,EAoBnBC,SAAW,WACT,IACI/D,GADS,IAAIC,MACDC,eAAe,GAAI,CAAEC,KAAM,UAAWC,OAAQ,YAE1DJ,GAAQ,SAAWA,GAAQ,QAC7Bf,SAAS0E,KAAKC,UAAUC,OAAO,iBAE/B5E,SAAS0E,KAAKC,UAAUE,IAAI,kBA3Bb,EA+BnB1E,OAAS,SAAAP,GACP,IAAMc,EAAO,4DAAwDd,EAAxD,mBAA8EmF,mCAA9E,iBACPrC,EAAQ,6DAAyD9C,EAAzD,mBAA+EmF,mCAA/E,iBACRC,EAAUhF,SAASC,cAAc,WAEjCgF,EAAiBC,IAAMC,IAAIzE,GAC3B0E,EAAkBF,IAAMC,IAAIzC,GAElCwC,IAAMG,IAAI,CAACJ,EAAgBG,IACxBE,KACCJ,IAAMK,QAAO,WAAkB,IAAD,uBAAbC,EAAa,yBAAbA,EAAa,gBAC5B,EAAK7F,SAAS,CACZe,QAAS8E,EAAS,GAAGtD,KACrBQ,SAAU8C,EAAS,GAAGtD,KAAKa,KAC3B0C,SAAS,EACTtF,QAAQ,EACRuF,aAAc,OAEhBV,EAAQW,YAAc,yCAGzBC,OAAM,SAAAC,GACL,EAAKlG,SAAS,CAAE+F,aAAcG,QAnDlC,EAAKzF,MAAQ,CACXqF,SAAS,EACT/E,QAAS,GACTgC,SAAU,GACVgD,aAAc,KACdvF,QAAQ,GAEV,EAAKA,OAAS,EAAKA,OAAOE,KAAZ,gBACd,EAAKmE,gBAAkB,EAAKA,gBAAgBnE,KAArB,gBACvB,EAAKyE,SAAW,EAAKA,SAASzE,KAAd,gBAXC,E,qDA0DjB,OACE,yBAAKnB,UAAU,OACZC,KAAK2F,WACN,kBAAC,EAAD,CAAQzF,MAAM,mCACd,kBAAC,EAAD,CAAQc,OAAQhB,KAAKgB,SACrB,6BACGhB,KAAKiB,MAAMqF,UAAYtG,KAAKiB,MAAMsF,aACjC,6BAASxG,UAAU,WACjB,yBAAKA,UAAU,oCACb,oEAGFC,KAAKiB,MAAMsF,cAAgBvG,KAAKiB,MAAMD,OACxC,6BAASjB,UAAU,WACjB,yBAAKA,UAAU,oCACb,mDACA,+DAIA,oCACE,kBAAC,EAAD,CAASwB,QAASvB,KAAKiB,MAAMM,UAC7B,kBAAC,EAAD,CAAUgC,SAAUvD,KAAKiB,MAAMsC,WAC/B,kBAAC,EAAD,a,GAlFApD,aCLlBwG,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFhG,SAASiG,eAAe,W","file":"static/js/main.fd01d504.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Header extends Component {\n    render() {\n        return (\n            <section className=\"section\" >\n                <div className=\"container\">\n                    <section className=\"hero is-small\">\n                        <div className=\"hero-body has-text-centered\">\n                            <div className=\"container\">\n                                <p className=\"title\">\n                                    {this.props.title}\n                                </p>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n            </section>\n        );\n    }\n};\n\nexport default Header;","import React, { Component } from \"react\";\n\nclass Search extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            searchValue: '',\n        }\n        this.handleSearchInputChanges = this.handleSearchInputChanges.bind(this)\n        this.resetInputField = this.resetInputField.bind(this)\n        this.callSearchFunction = this.callSearchFunction.bind(this)\n    }\n\n    handleSearchInputChanges = (e) => {\n        e.preventDefault();\n        this.setState({ searchValue: e.target.value })\n    }\n\n    resetInputField = () => {\n        this.setState({ searchValue: '' })\n        document.querySelector('.input').value = ''\n    }\n\n    callSearchFunction = (e) => {\n        e.preventDefault();\n        this.props.search(this.state.searchValue)\n        this.resetInputField();\n    }\n\n    render() {\n        return (\n            <section className='section'>\n                <div className='container'>\n                    <div className='columns is-centered'>\n                        <div className='column is-half'>\n                            <div className=\"field has-addons\">\n                                <div className=\"control is-expanded\">\n                                    <input\n                                        className=\"input\"\n                                        type=\"text\"\n                                        value={this.state.searchValue}\n                                        onChange={this.handleSearchInputChanges} />\n                                </div>\n                                <div className=\"control\">\n                                    <input\n                                        className=\"button is-info\"\n                                        onClick={this.callSearchFunction}\n                                        type=\"submit\"\n                                        value=\"SEARCH\" />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}\n\nexport default Search","import React from 'react'\n\nconst Weather = ({ weather }) => {\n    const icon = weather.weather[0].icon;\n    const desc = weather.weather[0].main;\n\n    const calculateDate = time => {\n        const date = new Date(time * 1000)\n        return date.toLocaleString([], { hour: '2-digit', minute: '2-digit' })\n    }\n\n    return (\n        < section className=\"section\" >\n            <div className=\"container\">\n                <div className=\"columns has-text-centered is-centered\">\n                    <div className=\"column is-half\">\n                        <p className='city'>{weather.name}, <b>{weather.sys.country}</b>\n                        </p>\n                        <div className=\"columns\">\n                            <div className=\"column\">\n                                <img\n                                    src={`http://openweathermap.org/img/wn/${icon}@2x.png`}\n                                    alt={desc}\n                                />\n                            </div>\n                            <div className=\"column\">\n                                <span className='bigTemp bold'>{Math.round(weather.main.temp)}°</span>\n                            </div>\n                            <div className=\"column description has-text-left\">\n                                <p><b>{Math.round(weather.main.temp_max)}° </b> {Math.round(weather.main.temp_min)}°</p>\n                                <p>{weather.weather[0].description}</p>\n                                <p>sunrise: {calculateDate(weather.sys.sunrise)}</p>\n                                <p>sunset: {calculateDate(weather.sys.sunset)}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div >\n            </div>\n        </section >\n    )\n\n}\n\nexport default Weather","import React from \"react\";\n\nconst HourlyForecast = ({ data }) => {\n\n    const getHour = time => time ? new Date(time).getHours() : new Date().getHours();\n\n    const displayMoreInfo = (data, index) => {\n        return (\n            <div key={index}>\n                <div className='weather-details'>\n                    <div className='weather-details-data'>\n                        {`${getHour(data.dt * 1000 - 1000)}:00`}\n                    </div>\n                    <div className='weather-details-data'>\n                        <strong>{`${Math.round(data.main.temp_max)}°`} </strong>\n                        {`${Math.round(data.main.temp_min)}°`}\n                    </div>\n                    <span className='spacer' />\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"weather-hour\">\n            {data.map((data, index) => (\n                displayMoreInfo(data, index)\n            ))}\n        </div>\n    );\n};\n\nexport default HourlyForecast","import React from 'react'\nimport HourlyForecast from './HourlyForecast'\n\nconst Forecast = ({ forecast }) => {\n    const daysOfWeek = array => {\n        return (array.reduce((list, item) => {\n            const forecastDay = item.dt_txt.substr(0, 10);\n            list[forecastDay] = list[forecastDay] || [];\n            list[forecastDay].push(item);\n            return list;\n        }, {}));\n    };\n\n\n    const currentDay = array => {\n        const day = [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"];\n        return day[new Date(array[0].dt * 1000).getDay()];\n    };\n\n    const minMaxTemp = (data, minTemp = [], maxTemp = []) => {\n        data.forEach(value => {\n            maxTemp.push(value.main.temp_max);\n            minTemp.push(value.main.temp_min);\n        });\n\n        const tempMinMax = {\n            min: Math.round(Math.min(...minTemp)),\n            max: Math.round(Math.max(...maxTemp)),\n        };\n\n        return (\n            <div>\n                <div>\n                    <strong>{`${tempMinMax.max}°C`}</strong> / {`${tempMinMax.min}°C`}\n                </div>\n            </div>\n        )\n    }\n\n    const forecastDays = Object.values(daysOfWeek(forecast));\n    const weatherDays = forecastDays.length > 5 ? forecastDays.slice(1, 6) : forecastDays;\n\n\n    return (\n\n        <section className=\"section\">\n            <div className=\"container\">\n                <div className='columns'>\n                    {weatherDays.map((item, i) => (\n                        <div key={i} className='column'>\n                            <div className=\"currentDay\">\n                                <span>{currentDay(item)}</span>\n                                <span>{minMaxTemp(item)}</span>\n                            </div>\n                            <span><HourlyForecast data={item} /></span>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </section >\n    )\n\n}\n\nexport default Forecast","import React, { Component } from \"react\";\n\nclass Footer extends Component {\n    render() {\n        return (\n            <footer className=\"footer\">\n                <div className=\"content has-text-centered\">\n                    <p className='title is-7'>\n                        what's the weather - 2020 - made by <a href=\"https://iamnelsonmartins.com\">iamnelsonmartins</a>\n                    </p>\n                </div>\n            </footer >\n        );\n    }\n};\n\nexport default Footer;","import React, { Component } from 'react';\nimport Header from './Header'\nimport Search from './Search'\nimport Weather from './Weather'\nimport Forecast from './Forecast'\nimport Footer from './Footer'\nimport axios from 'axios';\nimport '../App.scss';\nrequire('dotenv').config()\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      weather: [],\n      forecast: [],\n      errorMessage: null,\n      search: true\n    }\n    this.search = this.search.bind(this)\n    this.removeBodyClass = this.removeBodyClass.bind(this)\n    this.changeBG = this.changeBG.bind(this)\n  }\n\n  removeBodyClass = () => {\n    const bodyCurrentClass = document.body.className\n    document.body.classList.remove(bodyCurrentClass)\n    document.body.classList.add('weather-default')\n  }\n\n  changeBG = () => {\n    const date = new Date();\n    let time = date.toLocaleString([], { hour: '2-digit', minute: '2-digit' })\n\n    if (time >= '05:00' && time <= '21:00') {\n      document.body.classList.remove('weather-night');\n    } else {\n      document.body.classList.add('weather-night');\n    }\n  }\n\n  search = searchValue => {\n    const weather = `https://api.openweathermap.org/data/2.5/weather?q=${searchValue}&apikey=${process.env.REACT_APP_API_KEY}&units=metric`\n    const forecast = `https://api.openweathermap.org/data/2.5/forecast?q=${searchValue}&apikey=${process.env.REACT_APP_API_KEY}&units=metric`\n    const message = document.querySelector('.info p')\n\n    const requestWeather = axios.get(weather)\n    const requestForecast = axios.get(forecast)\n\n    axios.all([requestWeather, requestForecast])\n      .then(\n        axios.spread((...response) => {\n          this.setState({\n            weather: response[0].data,\n            forecast: response[1].data.list,\n            loading: false,\n            search: true,\n            errorMessage: null\n          });\n          message.textContent = 'Looking outside for you... one sec'\n        })\n      )\n      .catch(error => {\n        this.setState({ errorMessage: error })\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.changeBG()}\n        <Header title=\"What's the weather like Today?\" />\n        <Search search={this.search} />\n        <div>\n          {this.state.loading && !this.state.errorMessage ? (\n            <section className='section'>\n              <div className='container has-text-centered info'>\n                <p>Type a city name to see the weather</p>\n              </div>\n            </section>\n          ) : this.state.errorMessage && this.state.search ? (\n            <section className='section'>\n              <div className='container has-text-centered info'>\n                <p>something went wrong</p>\n                <p>did you forgot to type a city?</p>\n              </div>\n            </section>\n          ) : (\n                <>\n                  <Weather weather={this.state.weather} />\n                  <Forecast forecast={this.state.forecast} />\n                  <Footer />\n                </>\n              )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}