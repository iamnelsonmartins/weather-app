(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{43:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(20),r=c.n(s),i=c(3),l=c(4),h=c(7),o=c(6),j=c(5),d=c(0),u=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(d.jsx)("section",{className:"section",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("section",{className:"hero is-small",children:Object(d.jsx)("div",{className:"hero-body has-text-centered",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("p",{className:"title",children:this.props.title})})})})})})}}]),c}(a.Component),b=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(i.a)(this,c),(a=t.call(this,e)).handleSearchInputChanges=function(e){e.preventDefault(),a.setState({searchValue:e.target.value})},a.resetInputField=function(){a.setState({searchValue:""}),document.querySelector(".input").value=""},a.callSearchFunction=function(e){e.preventDefault(),a.props.search(a.state.searchValue),a.resetInputField()},a.state={searchValue:""},a.handleSearchInputChanges=a.handleSearchInputChanges.bind(Object(h.a)(a)),a.resetInputField=a.resetInputField.bind(Object(h.a)(a)),a.callSearchFunction=a.callSearchFunction.bind(Object(h.a)(a)),a}return Object(l.a)(c,[{key:"render",value:function(){return Object(d.jsx)("section",{className:"section",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"columns is-centered",children:Object(d.jsx)("div",{className:"column is-half",children:Object(d.jsxs)("div",{className:"field has-addons",children:[Object(d.jsx)("div",{className:"control is-expanded",children:Object(d.jsx)("input",{className:"input",type:"text",value:this.state.searchValue,onChange:this.handleSearchInputChanges})}),Object(d.jsx)("div",{className:"control",children:Object(d.jsx)("input",{className:"button is-info",onClick:this.callSearchFunction,type:"submit",value:"SEARCH"})})]})})})})})}}]),c}(a.Component),m=function(e){var t=e.weather,c=t.weather[0].icon,a=t.weather[0].main,n=function(e){return new Date(1e3*e).toLocaleString([],{hour:"2-digit",minute:"2-digit"})};return Object(d.jsx)("section",{className:"section",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"columns has-text-centered is-centered",children:Object(d.jsxs)("div",{className:"column is-half",children:[Object(d.jsxs)("p",{className:"city",children:[t.name,", ",Object(d.jsx)("b",{children:t.sys.country})]}),Object(d.jsxs)("div",{className:"columns",children:[Object(d.jsx)("div",{className:"column",children:Object(d.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png"),alt:a})}),Object(d.jsx)("div",{className:"column",children:Object(d.jsxs)("span",{className:"bigTemp bold",children:[Math.round(t.main.temp),"\xb0"]})}),Object(d.jsxs)("div",{className:"column description has-text-left",children:[Object(d.jsxs)("p",{children:[Object(d.jsxs)("b",{children:[Math.round(t.main.temp_max),"\xb0 "]})," ",Math.round(t.main.temp_min),"\xb0"]}),Object(d.jsx)("p",{children:t.weather[0].description}),Object(d.jsxs)("p",{children:["sunrise: ",n(t.sys.sunrise)]}),Object(d.jsxs)("p",{children:["sunset: ",n(t.sys.sunset)]})]})]})]})})})})},O=c(11),p=function(e){var t=e.data,c=function(e){var t=e?new Date(e).getHours():(new Date).getHours();return t<10&&(t="0"+t),t};return Object(d.jsx)("div",{className:"weather-hour",children:t.map((function(e,t){return function(e,t){return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"weather-details",children:[Object(d.jsxs)("div",{className:"weather-details-data",children:[Object(d.jsx)("span",{children:"".concat(c(1e3*e.dt-1e3),":00")}),Object(d.jsx)("span",{children:" - "}),Object(d.jsxs)("strong",{children:["".concat(Math.round(e.main.temp_max),"\xb0")," "]}),"".concat(Math.round(e.main.temp_min),"\xb0")]}),Object(d.jsx)("span",{className:"spacer"})]})},t)}(e,t)}))})},x=function(e){var t=e.forecast,c=function(e){return["SUN","MON","TUE","WED","THU","FRI","SAT"][new Date(1e3*e[0].dt).getDay()]},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.forEach((function(e){c.push(e.main.temp_max),t.push(e.main.temp_min)}));var a={min:Math.round(Math.min.apply(Math,Object(O.a)(t))),max:Math.round(Math.max.apply(Math,Object(O.a)(c)))};return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsx)("strong",{children:"".concat(a.max,"\xb0C")})," / ","".concat(a.min,"\xb0C")]})})},n=Object.values(t.reduce((function(e,t){var c=t.dt_txt.substr(0,10);return e[c]=e[c]||[],e[c].push(t),e}),{})),s=n.length>5?n.slice(1,6):n;return Object(d.jsx)("section",{className:"section",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"columns",children:s.map((function(e,t){return Object(d.jsxs)("div",{className:"column",children:[Object(d.jsxs)("div",{className:"currentDay",children:[Object(d.jsx)("span",{children:c(e)}),Object(d.jsx)("span",{children:a(e)})]}),Object(d.jsx)("span",{children:Object(d.jsx)(p,{data:e})})]},t)}))})})})},v=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"content has-text-centered",children:Object(d.jsxs)("p",{className:"title is-7",children:["what's the weather - 2020 - made by ",Object(d.jsx)("a",{href:"https://iamnelsonmartins.com",children:"iamnelsonmartins"})]})})})}}]),c}(a.Component),f=c(8),N=c.n(f);c(43);c(44).config();var g=function(e){Object(o.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(i.a)(this,c),(a=t.call(this,e)).search=function(e){var t="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&apikey=").concat("ef5568b5d45e62e08f16a76621315cb1","&units=metric"),c="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&apikey=").concat("ef5568b5d45e62e08f16a76621315cb1","&units=metric"),n=document.querySelector(".info p"),s=N.a.get(t),r=N.a.get(c);N.a.all([s,r]).then(N.a.spread((function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];a.setState({weather:t[0].data,forecast:t[1].data.list,loading:!1,search:!0,errorMessage:null}),n.textContent="Looking outside for you... one sec"}))).catch((function(e){a.setState({errorMessage:e})}))},a.state={loading:!0,weather:[],forecast:[],errorMessage:null,search:!0},a.search=a.search.bind(Object(h.a)(a)),a}return Object(l.a)(c,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(u,{title:"What's the weather like Today?"}),Object(d.jsx)(b,{search:this.search}),Object(d.jsx)("div",{children:this.state.loading&&!this.state.errorMessage?Object(d.jsx)("section",{className:"section",children:Object(d.jsx)("div",{className:"container has-text-centered info",children:Object(d.jsx)("p",{children:"Type a city name to see the weather"})})}):this.state.errorMessage&&this.state.search?Object(d.jsx)("section",{className:"section",children:Object(d.jsxs)("div",{className:"container has-text-centered info",children:[Object(d.jsx)("p",{children:"something went wrong"}),Object(d.jsx)("p",{children:"did you forgot to type a city?"})]})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{weather:this.state.weather}),Object(d.jsx)(x,{forecast:this.state.forecast}),Object(d.jsx)(v,{})]})})]})}}]),c}(a.Component);r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.c96f6c4a.chunk.js.map