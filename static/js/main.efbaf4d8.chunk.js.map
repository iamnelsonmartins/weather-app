{"version":3,"sources":["components/Header.js","components/Search.js","components/Weather.js","components/HourlyForecast.js","components/Forecast.js","components/Footer.js","components/App.js","index.js"],"names":["Header","className","this","props","title","Component","Search","handleSearchInputChanges","e","preventDefault","setState","searchValue","target","value","resetInputField","document","querySelector","callSearchFunction","search","state","bind","type","onChange","onClick","Weather","weather","icon","desc","main","calculateDate","time","Date","toLocaleString","hour","minute","name","sys","country","src","alt","Math","round","temp","temp_max","temp_min","description","sunrise","sunset","HourlyForecast","data","getHour","finalHour","getHours","map","index","dt","displayMoreInfo","Forecast","forecast","currentDay","array","getDay","minMaxTemp","minTemp","maxTemp","forEach","push","tempMinMax","min","max","forecastDays","Object","values","reduce","list","item","forecastDay","dt_txt","substr","weatherDays","length","slice","i","Footer","href","require","config","App","process","message","requestWeather","axios","get","requestForecast","all","then","spread","response","loading","errorMessage","textContent","catch","error","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.efbaf4d8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass Header extends Component {\n    render() {\n        return (\n            <section className=\"section\" >\n                <div className=\"container\">\n                    <section className=\"hero is-small\">\n                        <div className=\"hero-body has-text-centered\">\n                            <div className=\"container\">\n                                <p className=\"title\">\n                                    {this.props.title}\n                                </p>\n                            </div>\n                        </div>\n                    </section>\n                </div>\n            </section>\n        );\n    }\n};\n\nexport default Header;","import React, { Component } from \"react\";\n\nclass Search extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            searchValue: '',\n        }\n        this.handleSearchInputChanges = this.handleSearchInputChanges.bind(this)\n        this.resetInputField = this.resetInputField.bind(this)\n        this.callSearchFunction = this.callSearchFunction.bind(this)\n    }\n\n    handleSearchInputChanges = (e) => {\n        e.preventDefault();\n        this.setState({ searchValue: e.target.value })\n    }\n\n    resetInputField = () => {\n        this.setState({ searchValue: '' })\n        document.querySelector('.input').value = ''\n    }\n\n    callSearchFunction = (e) => {\n        e.preventDefault();\n        this.props.search(this.state.searchValue)\n        this.resetInputField();\n    }\n\n    render() {\n        return (\n            <section className='section'>\n                <div className='container'>\n                    <div className='columns is-centered'>\n                        <div className='column is-half'>\n                            <div className=\"field has-addons\">\n                                <div className=\"control is-expanded\">\n                                    <input\n                                        className=\"input\"\n                                        type=\"text\"\n                                        value={this.state.searchValue}\n                                        onChange={this.handleSearchInputChanges} />\n                                </div>\n                                <div className=\"control\">\n                                    <input\n                                        className=\"button is-info\"\n                                        onClick={this.callSearchFunction}\n                                        type=\"submit\"\n                                        value=\"SEARCH\" />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        )\n    }\n}\n\nexport default Search","import React from 'react'\n\nconst Weather = ({ weather }) => {\n    const icon = weather.weather[0].icon;\n    const desc = weather.weather[0].main;\n\n    const calculateDate = time => {\n        const date = new Date(time * 1000)\n        return date.toLocaleString([], { hour: '2-digit', minute: '2-digit' })\n    }\n\n    return (\n        < section className=\"section\" >\n            <div className=\"container\">\n                <div className=\"columns has-text-centered is-centered\">\n                    <div className=\"column is-half\">\n                        <p className='city'>{weather.name}, <b>{weather.sys.country}</b>\n                        </p>\n                        <div className=\"columns\">\n                            <div className=\"column\">\n                                <img\n                                    src={`http://openweathermap.org/img/wn/${icon}@2x.png`}\n                                    alt={desc}\n                                />\n                            </div>\n                            <div className=\"column\">\n                                <span className='bigTemp bold'>{Math.round(weather.main.temp)}°</span>\n                            </div>\n                            <div className=\"column description has-text-left\">\n                                <p><b>{Math.round(weather.main.temp_max)}° </b> {Math.round(weather.main.temp_min)}°</p>\n                                <p>{weather.weather[0].description}</p>\n                                <p>sunrise: {calculateDate(weather.sys.sunrise)}</p>\n                                <p>sunset: {calculateDate(weather.sys.sunset)}</p>\n                            </div>\n                        </div>\n                    </div>\n                </div >\n            </div>\n        </section >\n    )\n\n}\n\nexport default Weather","import React from 'react'\n\nconst HourlyForecast = ({ data }) => {\n  const getHour = (time) => {\n    let finalHour = time ? new Date(time).getHours() : new Date().getHours()\n    if (finalHour < 10) {\n      finalHour = '0' + finalHour\n    }\n    return finalHour\n  }\n\n  const displayMoreInfo = (data, index) => {\n    return (\n      <div key={index}>\n        <div className='weather-details'>\n          <div className='weather-details-data'>\n            <span>{`${getHour(data.dt * 1000 - 1000)}:00`}</span>\n            <span> - </span>\n            <strong>{`${Math.round(data.main.temp_max)}°`} </strong>\n            {`${Math.round(data.main.temp_min)}°`}\n          </div>\n          <span className='spacer' />\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className='weather-hour'>\n      {data.map((data, index) => displayMoreInfo(data, index))}\n    </div>\n  )\n}\n\nexport default HourlyForecast\n","import React from 'react'\nimport HourlyForecast from './HourlyForecast'\n\nconst Forecast = ({ forecast }) => {\n    const daysOfWeek = array => {\n        return (array.reduce((list, item) => {\n            const forecastDay = item.dt_txt.substr(0, 10);\n            list[forecastDay] = list[forecastDay] || [];\n            list[forecastDay].push(item);\n            return list;\n        }, {}));\n    };\n\n\n    const currentDay = array => {\n        const day = [\"SUN\", \"MON\", \"TUE\", \"WED\", \"THU\", \"FRI\", \"SAT\"];\n        return day[new Date(array[0].dt * 1000).getDay()];\n    };\n\n    const minMaxTemp = (data, minTemp = [], maxTemp = []) => {\n        data.forEach(value => {\n            maxTemp.push(value.main.temp_max);\n            minTemp.push(value.main.temp_min);\n        });\n\n        const tempMinMax = {\n            min: Math.round(Math.min(...minTemp)),\n            max: Math.round(Math.max(...maxTemp)),\n        };\n\n        return (\n            <div>\n                <div>\n                    <strong>{`${tempMinMax.max}°C`}</strong> / {`${tempMinMax.min}°C`}\n                </div>\n            </div>\n        )\n    }\n\n    const forecastDays = Object.values(daysOfWeek(forecast));\n    const weatherDays = forecastDays.length > 5 ? forecastDays.slice(1, 6) : forecastDays;\n\n\n    return (\n\n        <section className=\"section\">\n            <div className=\"container\">\n                <div className='columns'>\n                    {weatherDays.map((item, i) => (\n                        <div key={i} className='column'>\n                            <div className=\"currentDay\">\n                                <span>{currentDay(item)}</span>\n                                <span>{minMaxTemp(item)}</span>\n                            </div>\n                            <span><HourlyForecast data={item} /></span>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </section >\n    )\n\n}\n\nexport default Forecast","import React, { Component } from \"react\";\n\nclass Footer extends Component {\n    render() {\n        return (\n            <footer className=\"footer\">\n                <div className=\"content has-text-centered\">\n                    <p className='title is-7'>\n                        what's the weather - 2020 - made by <a href=\"https://iamnelsonmartins.com\">iamnelsonmartins</a>\n                    </p>\n                </div>\n            </footer >\n        );\n    }\n};\n\nexport default Footer;","import React, { Component } from 'react'\nimport Header from './Header'\nimport Search from './Search'\nimport Weather from './Weather'\nimport Forecast from './Forecast'\nimport Footer from './Footer'\nimport axios from 'axios'\nimport '../App.scss'\nrequire('dotenv').config()\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loading: true,\n      weather: [],\n      forecast: [],\n      errorMessage: null,\n      search: true,\n    }\n    this.search = this.search.bind(this)\n  }\n\n  search = (searchValue) => {\n    const weather = `https://api.openweathermap.org/data/2.5/weather?q=${searchValue}&apikey=${process.env.REACT_APP_API_KEY}&units=metric`\n    const forecast = `https://api.openweathermap.org/data/2.5/forecast?q=${searchValue}&apikey=${process.env.REACT_APP_API_KEY}&units=metric`\n    const message = document.querySelector('.info p')\n\n    const requestWeather = axios.get(weather)\n    const requestForecast = axios.get(forecast)\n\n    axios\n      .all([requestWeather, requestForecast])\n      .then(\n        axios.spread((...response) => {\n          this.setState({\n            weather: response[0].data,\n            forecast: response[1].data.list,\n            loading: false,\n            search: true,\n            errorMessage: null,\n          })\n          message.textContent = 'Looking outside for you... one sec'\n        })\n      )\n      .catch((error) => {\n        this.setState({ errorMessage: error })\n      })\n  }\n\n  render() {\n    return (\n      <div className='App'>\n        <Header title=\"What's the weather like today?\" />\n        <Search search={this.search} />\n        <div>\n          {this.state.loading && !this.state.errorMessage ? (\n            <section className='section'>\n              <div className='container has-text-centered info'>\n                <p>Type a city name to see the weather</p>\n              </div>\n            </section>\n          ) : this.state.errorMessage && this.state.search ? (\n            <section className='section'>\n              <div className='container has-text-centered info'>\n                <p>something went wrong</p>\n                <p>did you forgot to type a city?</p>\n              </div>\n            </section>\n          ) : (\n            <>\n              <Weather weather={this.state.weather} />\n              <Forecast forecast={this.state.forecast} />\n              <Footer />\n            </>\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}